!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("rxjs-debug",["exports","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["rxjs-debug"]={},t.rxjs,t.rxjs.operators)}(this,(function(t,e,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function i(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}var o;Object.create;var a,s,u=e.of(1),g=function(){return u},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},p={conditional:function(t){return"rgba(200,200,200,"+(t||1)+")"},errorHandling:function(t){return"rgba(255,0,120,"+(t||1)+")"},filter:function(t){return"rgba(255,255,0,"+(t||1)+")"},join:function(t){return"rgba(0,125,255,"+(t||1)+")"},joinCreation:function(t){return"rgba(255,100,0,"+(t||1)+")"},mathAndAggregate:function(t){return"rgba(200,200,200,"+(t||1)+")"},multicast:function(t){return"rgba(0,255,217,"+(t||1)+")"},transformation:function(t){return"rgba(17,255,0,"+(t||1)+")"},utility:function(t){return"rgba(245,0,255,"+(t||1)+")"}},h=((o={})[String(r.audit(g))]="audit",o[String(r.buffer(u))]="buffer",o[String(r.bufferCount(5))]="bufferCount",o[String(r.bufferTime(5))]="bufferTime",o[String(r.bufferToggle(u,g))]="bufferToggle",o[String(r.bufferWhen(g))]="bufferWhen",o[String(r.catchError(g))]="catchError",o[String(r.combineAll())]="combineAll",o[String(r.combineLatest([u]))]="combineLatest",o[String(r.concat())]="concat",o[String(r.count())]="count",o[String(r.debounce(g))]="debounce",o[String(r.debounceTime(5))]="debounceTime",o[String(r.defaultIfEmpty())]="defaultIfEmpty",o[String(r.delay(5))]="delay",o[String(r.delayWhen(g))]="delayWhen",o[String(r.dematerialize())]="dematerialize",o[String(r.distinct())]="distinct",o[String(r.distinctUntilChanged())]="distinctUntilChanged",o[String(r.elementAt(5))]="elementAt",o[String(r.endWith())]="endWith",o[String(r.every(l))]="every",o[String(r.exhaust())]="exhaust",o[String(r.exhaustMap(g))]="exhaustMap",o[String(r.expand(g))]="expand",o[String(r.filter(l))]="filter",o[String(r.finalize(g))]="finalize",o[String(r.find(l))]="find",o[String(r.findIndex(l))]="findIndex",o[String(r.first())]="first",o[String(r.groupBy(g))]="groupBy",o[String(r.ignoreElements())]="ignoreElements",o[String(r.isEmpty())]="isEmpty",o[String(r.last())]="last",o[String(r.map(g))]="map",o[String(r.mapTo(g))]="mapTo",o[String(r.materialize())]="materialize",o[String(r.merge())]="merge",o[String(r.mergeMap(g))]="mergeMap",o[String(r.mergeScan(g,5))]="mergeScan",o[String(r.multicast(new e.Subject))]="multicast",o[String(r.observeOn(e.asapScheduler))]="observeOn",o[String(r.onErrorResumeNext())]="onErrorResumeNext",o[String(r.pairwise())]="pairwise",o[String(r.partition(l))]="partition",o[String(r.pluck(""))]="pluck",o[String(r.publishBehavior(g))]="publishBehavior",o[String(r.publishLast())]="publishLast",o[String(r.publishReplay())]="publishReplay",o[String(r.race())]="race",o[String(r.reduce(g))]="reduce",o[String(r.repeat())]="repeat",o[String(r.repeatWhen(g))]="repeatWhen",o[String(r.retry())]="retry",o[String(r.retryWhen(g))]="retryWhen",o[String(r.refCount())]="refCount",o[String(r.sample(u))]="sample",o[String(r.sampleTime(5))]="sampleTime",o[String(r.scan(g))]="scan",o[String(r.sequenceEqual(u))]="sequenceEqual",o[String(r.share())]="share",o[String(r.shareReplay())]="shareReplay",o[String(r.single())]="single",o[String(r.skip(5))]="skip",o[String(r.skipLast(5))]="skipLast",o[String(r.skipUntil(u))]="skipUntil",o[String(r.skipWhile(l))]="skipWhile",o[String(r.startWith(g))]="startWith",o[String(r.subscribeOn(e.asapScheduler))]="subscribeOn",o[String(r.switchMap(g))]="switchMap",o[String(r.take(5))]="take",o[String(r.takeLast(5))]="takeLast",o[String(r.takeUntil(u))]="takeUntil",o[String(r.takeWhile(l))]="takeWhile",o[String(r.tap(g))]="tap",o[String(r.throttle(g))]="throttle",o[String(r.throttleTime(5))]="throttleTime",o[String(r.throwIfEmpty(g))]="throwIfEmpty",o[String(r.timeInterval(e.asapScheduler))]="timeInterval",o[String(r.timeoutWith(5,u))]="timeoutWith",o[String(r.toArray())]="toArray",o[String(r.windowCount(5))]="windowCount",o[String(r.windowTime(5))]="windowTime",o[String(r.windowToggle(u,g))]="windowToggle",o[String(r.windowWhen(g))]="windowWhen",o[String(r.withLatestFrom())]="withLatestFrom",o[String(r.zip())]="zip",o[String(r.zipAll())]="zipAll",o),c={source:"rgb(240,240,240)"};Object.entries({conditional:["defaultIfEmpty","every","find","findIndex","isEmpty","throwIfEmpty"],errorHandling:["catchError","retry","retryWhen","onErrorResumeNext"],filter:["take","takeLast","takeUntil","takeWhile","audit","debounce","debounceTime","distinct","distinctUntilChanged","elementAt","filter","first","ignoreElements","last","sample","sampleTime","single","skip","skipLast","skipUntil","skipWhile","throttle","throttleTime"],join:["combineAll","startWith","exhaust","withLatestFrom","endWith"],joinCreation:["combineLatest","concat","merge","partition","race","zip","zipAll"],mathAndAggregate:["count","reduce"],multicast:["share","multicast","shareReplay","publishBehavior","publishLast","publishReplay"],transformation:["map","mapTo","buffer","bufferCount","bufferTime","bufferToggle","bufferWhen","switchMap","exhaustMap","pairwise","pluck","scan","expand","groupBy","mergeMap","mergeScan","windowCount","windowTime","windowToggle","windowWhen"],utility:["delay","delayWhen","finalize","dematerialize","materialize","tap","observeOn","refCount","toArray","repeat","repeatWhen","sequenceEqual","subscribeOn","timeInterval","timeoutWith"]}).forEach((function(t){var e=n(t,2),r=e[0],i=e[1],o=.3/i.length;i.forEach((function(t,e){c[t]=p[r]((1-o*e).toFixed(2))}))}));var d="➰ ",f=function(){function t(t,e,r,n){this.debuggerId=t,this.hideOutputs=r,this.noStyling=n,this.operatorsExecCountMap={},this.longestOperatorExecCountMsgLen=0,this.subCount=0,this.startMsg=t+" >> START",this.endMsg=t+" >> END",this.subscriptionMsg=t+" >> SUBSCRIBED",this.erroredMsg=t+" >> ERRORED",this.completedMsg=t+" >> COMPLETED",this.basePad=7,this.pad=this.basePad+Math.max(this.startMsg.length,this.endMsg.length,this.subscriptionMsg.length,this.completedMsg.length),this.operatorNames=["source"].concat(e.map((function(t){return h[String(t)]||""}))),this.longestNameLen=this.operatorNames.reduce((function(t,e){return t.length>e.length?t:e})).length}return t.prototype.logStart=function(){var t=this.startMsg.padEnd(this.basePad+this.pad,"_");console.log(this.newLines(2)+d+t+this.subCountMsg.padStart(4,"_")+"__▽")},t.prototype.logResume=function(){if(a&&a!==this.debuggerId||s&&s!==this.currentOperatorExecCountMsg){var t=this.debuggerId.padEnd(this.basePad+this.pad,"_");console.log(this.newLines(2)+d+t+this.subCountMsg.padStart(4,"_")+"___")}},t.prototype.logEnd=function(){var t=this.endMsg.padEnd(this.basePad+this.pad,"‾");console.log(d+t+this.subCountMsg.padStart(4,"‾")+"‾‾△"+this.newLines(3))},t.prototype.logOperator=function(t,e){var r=this.operatorNames[t],n=(String(t).padStart(2," ")+" "+r).padEnd(this.longestNameLen+4," "),i=(""+this.currentOperatorExecCountMsg).padStart(this.longestOperatorExecCountMsgLen," ").padEnd(this.longestOperatorExecCountMsgLen+1," ");console.log(d+(this.noStyling?"":"%c")+n+i,this.noStyling?"":"color: "+c[r]+"; background-color: #000; padding: 3px; border-radius: 6px;",!0===this.hideOutputs?"":e),a=this.debuggerId,s=this.currentOperatorExecCountMsg},t.prototype.prepare=function(t){var e,r=this.operatorNames[t];this.operatorsExecCountMap[t+r]=(null!==(e=this.operatorsExecCountMap[t+r])&&void 0!==e?e:0)+1,this.currentOperatorExecCountMsg=this.operatorsExecCountMap[t+r]>1?" ("+this.operatorsExecCountMap[t+r]+")":"",this.longestOperatorExecCountMsgLen=Math.max(this.longestOperatorExecCountMsgLen,this.currentOperatorExecCountMsg.length)},t.prototype.addSubscription=function(){this.subCount++,this.subCountMsg=this.subCount>1?"S:"+this.subCount:"";var t=this.subscriptionMsg.padEnd(this.basePad+this.pad,"-");console.log(this.newLines(1)+d+t+this.subCountMsg.padStart(4,"-")+"--▼"+this.newLines(2))},t.prototype.logErrored=function(){var t=this.erroredMsg.padEnd(this.basePad+this.pad,"-");console.log(this.newLines(1)+d+t+this.subCountMsg.padStart(4,"-")+"--▲"+this.newLines(2))},t.prototype.logCompleted=function(){var t=this.completedMsg.padEnd(this.basePad+this.pad,"-");console.log(this.newLines(1)+d+t+this.subCountMsg.padStart(4,"-")+"--▲"+this.newLines(2))},t.prototype.newLines=function(t){return this.noStyling?"":Array(t).fill("\n").join("")},t}(),S=0;t.$D=function(t,n){var o,a=new e.Observable;a.source=t,t=a,n=n||{};var s,u=String(null!==(o=n.id)&&void 0!==o?o:++S),g=t.subscribe,l=t.pipe;return t.pipe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var o=(s=new f(u,t,n.hideOutputs,n.noStyling)).operatorNames.length,a=function(e){var n=r.tap((function(t){s.prepare(e),0===e?s.logStart():s.logResume(),s.logOperator(e,t),e===o-1&&s.logEnd()}));t.splice(e+e,0,n)},g=0;g<o;g++)a(g);if("number"==typeof n.addDelay){var p=r.delay(n.addDelay),h=t.length;for(g=0;g<h;g++)t.splice(g+g,0,p)}return t.push(r.catchError((function(t){return s.logErrored(),e.throwError(t)}))),t.push(r.tap({complete:function(){return s.logCompleted()}})),l.apply(this,t)},t.subscribe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(!s){var n=t.pipe();return n.subscribe.apply(n,i(e))}return s.addSubscription(),g.apply(this,e)},t},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=rxjs-debug.umd.min.js.map